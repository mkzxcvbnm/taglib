**函数使用方法**

{$模板变量名|函数名称=参数1,参数2...}

> 参数`###`表示模板变量本身的参数位置

***

# date

> 时间戳格式化

{% method %}

## 时间格式化的方式

### 常用

|格式化方式|别名|说明|
|:--------:|:--:|:--:|
|Y|年|年份的四位数表示|
|m|月|月份的数字表示（从 01 到 12）|
|d|日|一个月中的第几天（从 01 到 31）|
|H|时|24 小时制，带前导零（00 到 23）|
|i|分|带前导零（00 到 59）|
|s|秒|带前导零（00 到 59）|

### 附录

|格式化方式|说明|
|:--------:|:--:|
|D|星期几的文本表示（用三个字母表示）|
|j|一个月中的第几天，不带前导零（1 到 31）|
|l|（'L' 的小写形式）- 星期几的完整的文本表示|
|N|星期几的 ISO-8601 数字格式表示（1表示Monday[星期一]，7表示Sunday[星期日]）|
|S|一个月中的第几天的英语序数后缀（2 个字符：st、nd、rd 或 th。与 j 搭配使用）|
|w|星期几的数字表示（0 表示 Sunday[星期日]，6 表示 Saturday[星期六]）|
|z|一年中的第几天（从 0 到 365）|
|W|用 ISO-8601 数字格式表示一年中的星期数字（每周从 Monday[星期一]开始）|
|F|月份的完整的文本表示（January[一月份] 到 December[十二月份]）|
|M|月份的短文本表示（用三个字母表示）|
|n|月份的数字表示，不带前导零（1 到 12）|
|t|给定月份中包含的天数|
|L|是否是闰年（如果是闰年则为 1，否则为 0）|
|o|ISO-8601 标准下的年份数字|
|y|年份的两位数表示|
|a|小写形式表示：am 或 pm|
|A|大写形式表示：AM 或 PM|
|B|Swatch Internet Time（000 到 999）|
|g|12 小时制，不带前导零（1 到 12）|
|G|24 小时制，不带前导零（0 到 23）|
|h|12 小时制，带前导零（01 到 12）|
|u|微秒（PHP 5.2.2 中新增的）|
|e|时区标识符（例如：UTC、GMT、Atlantic/Azores）|
|I|（i 的大写形式）- 日期是否是在夏令时（如果是夏令时则为 1，否则为 0）|
|O|格林威治时间（GMT）的差值，单位是小时（实例：+0100）|
|P|格林威治时间（GMT）的差值，单位是 hours:minutes（PHP 5.1.3 中新增的）|
|T|时区的简写（实例：EST、MDT）|
|Z|以秒为单位的时区偏移量。UTC 以西时区的偏移量为负数（-43200 到 50400）|
|c|ISO-8601 标准的日期（例如 2013-05-05T16:34:42+00:00）|
|r|RFC 2822 格式的日期（例如 Fri, 12 Apr 2013 12:01:05 +0200）|
|U|自 Unix 纪元（January 1 1970 00:00:00 GMT）以来经过的秒数|

{% sample lang="php" %}
**例子**

```html
<yunu:list cid="$cid">
{$list.update_time|date='Y-m-d H:i:s',###}
</yunu:list>
```

**解释**

```
{$list.update_time|date='Y-m-d H:i:s',###}
```

>将`update_time`时间戳格式化成`年-月-日 时:分:秒`格式
>`Y`-年 `m`-月 `d`-日 `H`-时 `i`-分 `s`-秒

{% endmethod %}

***

# str2sub

> 文字超出一定长度显示省略号

{% method %}

## 参数

|参数位置|别名|类型|默认值|说明|
|:------:|:--:|:--:|:----:|:--:|
|1|长度|number|`必填`|截取字符长度|
|2|显示符号|bool|`false`|`true`-显示 `false`-不显示|
|3|过滤HTML|bool|`true`|`true`-过滤HTML后按照长度进行截取 `false`-不过滤|
|4|符号|string|`...`|超出部分显示为此符号|

{% sample lang="php" %}

**例子**

```html
<yunu:list cid="$cid">
{$list.desc|str2sub=20, true}
</yunu:list>
```

**解释**

```
{$list.desc|str2sub=20, true}
```

>将`desc`截取20个字符，多余部分显示为省略号

{% endmethod %}

***

# str2arr

> 分割字符串为数组

{% method %}

## 参数

|参数位置|别名|类型|默认值|说明|
|:------:|:--:|:--:|:----:|:--:|
|1|分隔符|string|`必填`|使用此参数值对字符串进行分割|

{% sample lang="php" %}

**例子**

```html
<volist name="$content.mulimg|str2arr='***'" id="v">
{$v}
</volist>
```

**解释**

```
$content.mulimg|str2arr='***'
```

>使用`***`作为分隔符分割`$content.mulimg`字符串成数组
**!注意分隔符不能为竖线（|）**

{% endmethod %}

***

# str2img

> 获取字符串内第一张图片的路径

{% method %}

## 参数

|参数位置|别名|类型|默认值|说明|
|:------:|:--:|:--:|:----:|:--:|
|1|图片序号|number|`1`|数字几就获取第几张图片|

{% sample lang="php" %}

**例子**

```html
{$content.content|str2img='3'}
```

**解释**

> 获取上传的第三张图片

{% endmethod %}